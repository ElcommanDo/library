{%load static %}
<!DOCTYPE html>
<html dir="rtl" lang="ar">
<head>
  <title>المستخدمين</title>
  <meta charset="utf-8">
  <link rel="icon" type="image/png" href=""/>

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
</head>
<body dir="rtl">

<div class="container">
    <div class="well oo" style="background-color:inherit ; color:black;">
        <a class="nav-link btn btn-primary " href="{%url 'home' %}"> الرئيسيه <span class="sr-only">(current)</span></a>
      {% if request.user %}
        <a class="nav-link btn btn-primary" href="{%url 'logout' %}">تسجيل خروج</a>
      {% endif %}
   
  </div>
  <ul style="right: inherit; margin-top: 5px;" dir="rtl" class="messages">
    {%if messages%}
      {%for message in messages%}
        
           <div  class="alert alert-{{message.tags}}">

                {{message}}
              </div>
        
      {%endfor%}
  {%endif%}
</ul>
</div>
   <div class="row">
   
     <table style="text-align:center;" id="class_table" class="responsive-table table col-100">
        <thead>
            {%if request.user.is_superuser%}
            <tr>
            <td colspan="12"><a href="#" data-toggle="modal" data-target="#myModal66"  > اضافه عضو </a> </td>
          </tr>
          {%endif%}
            <tr style="background-color: #337ab7; font-weight: bold;color: white; ">
                <td>اسم العضو</td>
                <td>العنوان</td>
                <td>رقم الهاتف</td>
                <td>بريد الكترونى</td>
                {%if request.user.is_superuser%}
                <td>تعديل</td>
                <td>حذف</td>
                {%endif%}
                
            </tr>
        </thead>
        <tbody>
            {%for item in members%}
          <tr>
          
            <td>{{item.user.username}}</a></td>
            <td>{{item.address}}</td>
            <td>{{item.phone}}</td>
            <td>{{item.user.email}}</td>
            {%if request.user.is_superuser%}
            <td><a class="btn btn-warning" href="#" data-toggle="modal" data-target="#myModal{{item.id}}">تعديل</a></td>         
            <td><a class="btn btn-danger" href="{%url 'delete_member' item.id %}">حذف</a></td>
        {%endif%}           
        </tr>
    
              <div id="myModal{{item.id}}" class="modal fade" role="dialog">
                <div class="modal-dialog">
              
                  <!-- Modal content-->
                  <div class="modal-content">
                    <div class="modal-header">
                      <button  type="button" class="close" data-dismiss="modal">&times;</button>
                      <h4 class="modal-title">تعديل  بيانات العضو</h4>
                    </div>
                    <div class="modal-body">
                        <form action="{%url 'update_member' item.id %}" dir="rtl" method="post">
                            {%csrf_token%}
                           <label>اسم العضو</label>
                            <input value="{{item.user.username}}" placeholder="اسم العضو " required="true" name="username" type="text" class="form-control">
                            <br>
                            <label>عنوان العضو</label>
                            <input value="{{item.address}}" placeholder="عنوان العضو " required="true" name="address" type="text" class="form-control">
                            <br>
                            <label>رقم هاتف العضو</label>
                            <input value="{{item.phone}}" placeholder="رقم الهاتف" required="true" name="phone" type="text" class="form-control">
                            <br>
                            <label>البريد الالكترونى</label>
                            <input value="{{item.user.email}}" placeholder="البريد الالكترونى " required="true" name="email" type="email" class="form-control">
                            <br>
                         
                          <label>كلمه المرور</label>
                           <input placeholder="ادخل كلمه مرور قويه " required="true" name="password" type="password" class="form-control">
                           <br>
                           <div class="modal-footer">
                          <button style="float:right;" type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                          <button style="float:left;" type="submit" class="btn btn-primary" >تعديل</button>
                  
                          </div>
                          </form>
                </div>
          
              </div>
          
            </div>
          </div>
        
          
          
         {%endfor%}
          </tbody>


    </table>
</div>
</div>
<div id="myModal66" class="modal fade" role="dialog">
    <div class="modal-dialog">
  
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">اضافة عضو  </h4>
        </div>
        <div class="modal-body">
          <form action="{%url 'create_member' %}" dir="rtl" method="post">
            {%csrf_token%}
           <label>اسم العضو</label>
            <input placeholder="اسم العضو " required="true" name="username" type="text" class="form-control">
            <br>
            <label>عنوان العضو</label>
            <input placeholder="عنوان العضو " required="true" name="address" type="text" class="form-control">
            <br>
            <label>رقم هاتف العضو</label>
            <input placeholder="رقم الهاتف" required="true" name="phone" type="text" class="form-control">
            <br>
            <label>البريد الالكترونى</label>
            <input placeholder="البريد الالكترونى " required="true" name="email" type="email" class="form-control">
            <br>
         
          <label>كلمه المرور</label>
           <input placeholder="ادخل كلمه مرور قويه " required="true" name="password" type="password" class="form-control">
           <br>
           <div class="modal-footer">
          <button style="float:right;" type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          <button style="float:left;" type="submit" class="btn btn-primary" >اضافه</button>
  
          </div>
          </form>
        </div>
  
      </div>
  
    </div>
  </div>
  
  
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
crossorigin="anonymous"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"
integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
crossorigin="anonymous"></script>
</body>
</html>
